plugins {
  id 'java'
  id 'com.github.johnrengelman.shadow' version '7.1.2'
  id 'com.katalon.gradle-plugin' version '0.1.2'
}

version = '1.0' 
description = 'Keywords Tools Testing for Katalon'

repositories {
  mavenCentral()
  jcenter()
}

sourceSets {
   main {
    java {
      srcDirs = ['Keywords', 'Include/scripts/groovy']
      srcDir 'Libs' // generated by Katalon Studio
    }
  }
}

jar {
  exclude 'Temp*.class'
}

katalon {
  dependencyPrefix = "com.katalon"
  minimize = false
}

task generateJavadocs(type: Javadoc) {
  source = sourceSets.main.allJava
  classpath = sourceSets.main.compileClasspath
  destinationDir = file("${buildDir}/docs/javadoc")
}

build {
  dependsOn generateJavadocs
}

task javadocJar(type: Jar, dependsOn: generateJavadocs) {
  classifier = 'javadoc'
  from generateJavadocs.destinationDir
}

artifacts {
  archives javadocJar
}

dependencies {
  implementation fileTree(dir: 'libs', include: ['*.jar'])
}